<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="../Css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../Css/bootstrap-responsive.css" />
    <link rel="stylesheet" type="text/css" href="../Css/style.css" />
    <link rel="stylesheet" type="text/css" href="../Css/GridManager.css" />



    <script type="text/javascript" src="../Js/jquery.js"></script>
    <script type="text/javascript" src="../Js/jquery.sorted.js"></script>
    <script type="text/javascript" src="../Js/bootstrap.js"></script>
    <script type="text/javascript" src="../Js/ckform.js"></script>
    <script type="text/javascript" src="../Js/common.js"></script>
    <script type="text/javascript" src="../Js/GridManager.js"></script>

    <style type="text/css">
        body {
            padding-bottom: 40px;
        }

        .sidebar-nav {
            padding: 9px 0;
        }

        @media (max-width: 980px) {
            /* Enable use of floated navbar text */
            .navbar-text.pull-right {
                float: none;
                padding-left: 5px;
                padding-right: 5px;
            }
        }

    </style>


    <script>
        // 创建方法
        document.getElementById('reset-gm').style.display = 'inline-block';
        var ajaxData1 = {
            "data": [{
                    "name": "baukh",
                    "age": "28",
                    "createDate": "2015-03-12",
                    "info": "野生前端程序",
                    "operation": "修改"
                },
                {
                    "name": "baukh",
                    "age": "28",
                    "createDate": "2015-03-12",
                    "info": "野生前端程序",
                    "operation": "修改"
                },
                {
                    "name": "baukh",
                    "age": "28",
                    "createDate": "2015-03-12",
                    "info": "野生前端程序",
                    "operation": "修改"
                },
                {
                    "name": "baukh",
                    "age": "28",
                    "createDate": "2015-03-12",
                    "info": "野生前端程序",
                    "operation": "修改"
                },
                {
                    "name": "baukh",
                    "age": "28",
                    "createDate": "2015-03-12",
                    "info": "野生前端程序",
                    "operation": "修改"
                }, {
                    "name": "baukh",
                    "age": "28",
                    "createDate": "2015-03-12",
                    "info": "野生前端程序",
                    "operation": "修改"
                },
                {
                    "name": "baukh",
                    "age": "28",
                    "createDate": "2015-03-12",
                    "info": "野生前端程序",
                    "operation": "修改"
                },
                {
                    "name": "baukh",
                    "age": "28",
                    "createDate": "2015-03-12",
                    "info": "野生前端程序",
                    "operation": "修改"
                }
            ],
            "totals": 8
        };
        var table = document.querySelector('table[grid-manager]');
        table.GM({
            supportRemind: true,
            height: 'auto',
            i18n: 'zh-cn',
            textConfig: {
                'page-go': {
                    'zh-cn': '跳转',
                    'en-us': 'Go '
                }
            },
            supportSetTop: true,
            gridManagerName: 'aaa',
            disableCache: true,
            disableOrder: false,
            supportSorting: true,
            supportDrag: true,
            supportAjaxPage: true,
            emptyTemplate: '<div class="gm-emptyTemplate">什么也没有</div>',
            ajax_data: ajaxData1,
            isCombSorting: false,
            pageSize: 20,
            query: {
                ex: '用户自定义的查询参数,格式:{key:value}'
            },
            columnData: [{
                key: 'name',
                remind: 'the username',
                sorting: 'up',
                width: '200px',
                text: 'username'
            }, {
                key: 'age',
                remind: 'the age',
                sorting: '',
                width: '200px',
                text: 'age'
            }, {
                key: 'createDate',
                remind: 'the createDate',
                sorting: 'down',
                width: '200px',
                text: 'createDate'
            }, {
                key: 'info',
                remind: 'the info',
                sorting: '',
                text: 'info'
            }, {
                key: 'operation',
                remind: 'the operation',
                sorting: '',
                width: '100px',
                text: 'operation',
                template: function(operation, rowObject) { //operation:当前key所对应的单条数据；rowObject：单个一行完整数据
                    return '<a href=javascript:alert("这是一个按纽");>' + operation + '</a>';
                }
            }],
            pagingBefore: function(query) {
                console.log('Event: 分页前', query);
            },
            pagingAfter: function(query) {
                console.log('Event: 分页后', query);
            },
            sortingBefore: function(query) {
                console.log('Event: 排序前', query);
            },
            sortingAfter: function(query) {
                console.log('Event: 排序后', query);
            },
            ajax_success: function(data) {
                console.log('Event: ajax_success', data);
            }
        }, function(query) {
            // 渲染完成后的回调函数
            console.log(query);
        });
        // 日期格式化,不是插件的代码,只用于处理时间格式化
        Date.prototype.format = function(fmt) {
            var o = {
                "M+": this.getMonth() + 1, //月份
                "D+": this.getDate(), //日
                "d+": this.getDate(), //日
                "H+": this.getHours(), //小时
                "h+": this.getHours(), //小时
                "m+": this.getMinutes(), //分
                "s+": this.getSeconds(), //秒
                "q+": Math.floor((this.getMonth() + 3) / 3), //季度
                "S": this.getMilliseconds() //毫秒
            };
            if (/([Y,y]+)/.test(fmt)) {
                fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
            }
            for (var k in o) {
                if (new RegExp("(" + k + ")").test(fmt)) {
                    fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
                }
            }
            return fmt;
        }

        // 修改数据方法
        document.getElementById('reset-gm').onclick = function() {
            var ajaxData2 = {
                "data": [{
                        "name": "baukh",
                        "age": "28",
                        "createDate": "2015-03-12",
                        "info": "野生前端程序",
                        "operation": "修改"
                    },
                    {
                        "name": "baukh",
                        "age": "28",
                        "createDate": "2015-03-12",
                        "info": "野生前端程序",
                        "operation": "修改"
                    },
                    {
                        "name": "baukh",
                        "age": "28",
                        "createDate": "2015-03-12",
                        "info": "野生前端程序",
                        "operation": "修改"
                    },
                    {
                        "name": "baukh",
                        "age": "28",
                        "createDate": "2015-03-12",
                        "info": "野生前端程序",
                        "operation": "修改"
                    }
                ],
                "totals": 4
            };
            document.querySelector('table[grid-manager]').GM('setAjaxData', ajaxData2);
        };

        /* $("#searchData").click(function() {

            
            $.ajax({
                    url: window.WebApiServer + "user/verifyUser",
                    type: "GET",
                    dataType: "json",
                    data: {
                        user_name: userName,
                        user_pwd: passWord
                    },
                    success: function(response) {

                        if (response.ReturnObject) {

                            //记录用户名、昵称
                            $.session.set('userName', userName);
                            window.location.href = "../index.html";
                        } else { 
                            alert("用户名或密码错误!");

                        }
                    },
                    error: function() {
                        alert("请重新登录");
                    }
             
            return false;
        });

      

        $('#addnew').click(function() {

            window.location.href = "add.html";
        });
        */
        $(function() {});

        function del(id) {


            if (confirm("确定要删除吗？")) {

                var url = "index.html";

                window.location.href = url;

            }

        }

    </script>

</head>

<body>
    <table class="grid-manager-default GridManager-ready" width="100%" cellspacing="1" cellpadding="0" grid-manager="cccc">

        <!--
    <form class="form-inline definewidth m20" action="/" onsubmit="return false" method="POST" enctype="text/plain">
        标题：
        <input type="text" name="rolename" id="rolename" class="abc input-default" placeholder="" value="">&nbsp;&nbsp;
        <button id="searchData" class="btn btn-primary">查询</button>&nbsp;&nbsp; <button type="button" class="btn btn-success" id="addnew">新增</button>
    </form>
    <table class="table table-bordered table-hover definewidth m10">
        <thead>
            <tr>
                <th>标题</th>
                <th>发布时间</th>
                <th>发布人</th>
                <th>修改时间</th>
                <th>修改人</th>
                <th>查看人数</th>
                <th>所属分类</th>
                <th>置顶</th>
                <th>推荐</th>
                <th>状态</th>
                <th>
                    <a href="edit.html">编辑</a>

                </th>
            </tr>
        </thead>
        <tbody id="listArticle"></tbody>
        <tfoot id="pageArticle"></tfoot>
    </table>
    -->
</body>

</html>
